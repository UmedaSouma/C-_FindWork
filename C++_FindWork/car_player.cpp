//===========================================================================================================================================================
// 
// プレイヤーの車 [car_player.cpp]
// Author : souma umeda
// 
//===========================================================================================================================================================
#include "car_player.h"
#include "manager.h"

//========================================================================================================================
// コンストラクタ
//========================================================================================================================
CCarPlayer::CCarPlayer()
{

}

//========================================================================================================================
// デストラクタ
//========================================================================================================================
CCarPlayer::~CCarPlayer()
{
}

//========================================================================================================================
// 初期設定
//========================================================================================================================
HRESULT CCarPlayer::Init()
{
	SetType(TYPE::CAR_PLAYER);

	CCar::Init();

	return S_OK;
}

//========================================================================================================================
// 終了処理
//========================================================================================================================
void CCarPlayer::Uninit()
{
	CCar::Uninit();
}

//========================================================================================================================
// 更新処理
//========================================================================================================================
void CCarPlayer::Update()
{
	CCamera* pCamera = CManager::GetCamera();
	
	if (pCamera != nullptr)
	{
		D3DXVECTOR3 rot = GetRot();
		D3DXVECTOR3 camerarot = pCamera->GetRot();

		pCamera->SetRot({ camerarot.x,rot.y,camerarot.z });
	}

	CCar::Update();
}

//========================================================================================================================
// 描画処理
//========================================================================================================================
void CCarPlayer::Draw()
{
	CCar::Draw();
}

//========================================================================================================================
// 生成処理
//========================================================================================================================
CCarPlayer* CCarPlayer::Create(CParamStorage::TYPE cartype)
{
	CCarPlayer* pCarPlayer = new CCarPlayer;

	pCarPlayer->SetTypeCar(cartype);

	pCarPlayer->Init();

	return pCarPlayer;
}